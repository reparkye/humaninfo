<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="SQL.HUMANINFO">
		
		<select id="selectDate" resultType="map">
			select to_char(sysdate, 'YY-MM-DD') from dual
		</select>

	<select id="selectHumanInfoList" resultType="hi">
	select * from human_info
	</select> 
	
	 <select id="selectHumanInfo" resultType="hi">
		select HINUM, HIID, HIPWD,
		HIChPwd, HINAME, HITRANS,
		HIADDRESS, HIEMAIL, HIPHONE,
		TO_CHAR(to_date(hibirth,'YYYY-MM-DD'),'YYYY-MM-DD') AS HIBIRTH
		from human_info
		where hinum = #{hinum}
	</select>
	
	<insert id="insertHumanInfo" parameterType="hi">
		insert into human_info
		values(seq_hiNum.nextval, #{hiid}, #{hipwd}, #{hichpwd}, #{hiname}, #{hitrans}, #{hiaddress},
		#{hiemail}, #{hiphone}, #{hibirth})
	</insert>	
		
	<update id="updateHumanInfo" parameterType="hi">
		update human_info
		<set>
			<if test="hiPwd!=null">hipwd = #{hipwd},</if>
			<if test="hiChPwd!=null">hichpwd = #{hichpwd},</if>
			<if test="hiPhone!=null">hiphone = #{hiphone},</if>
			<if test="hiEmail!=null">hiemail = #{hiemail},</if>
			<if test="hiAddress!=null">hiaddress = #{hiaddress},</if>
			<if test="hiName!=null">hidesc = #{hidesc},</if>						
		</set>
		where hinum = #{hinum}
	</update>

	<delete id="deleteHumanInfo" parameterType="Integer">
		delete from	human_info
		where hinum = #{hinum}
	</delete> 
	
	<select id="loginCk" resultType="hi">
		select * from human_info
		<where> hiid = #{hiid} and hipwd = #{hipwd} </where>
	</select>
</mapper>